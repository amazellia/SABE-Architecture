import{u as A,a as E,b as F,H,F as M,S as O}from"../chunks/Footer.a8ab9dc8.js";import{s as C,o as P,n as R}from"../chunks/scheduler.7824ab32.js";import{S as D,i as I,s as _,e as k,y as N,f as m,c as p,a as y,t as u,b as q,d as c,g as T,r as $,h as V,j as B,u as h,v,x as S,p as z,w as b}from"../chunks/index.f7af9784.js";const G={runtime:"nodejs18.x"};async function J({params:i}){await A();let t=await E(),a=i.slug,o="cdn/stories/";a?o+=a:o+="home";const s=["event.stream","event.guests","guests.year"],r=await t.get(o,{version:"draft",resolve_relations:s}),l=await t.get("cdn/stories/config/",{version:"draft",resolve_links:"url"});return{story:r.data.story,header:l.data.story.content.header_menu,logo:l.data.story.content.logo,footer:l.data.story.content}}const X=Object.freeze(Object.defineProperty({__proto__:null,config:G,load:J},Symbol.toStringTag,{value:"Module"}));function w(i){let t,a;return t=new O({props:{blok:i[0].story.content}}),{c(){$(t.$$.fragment)},l(o){h(t.$$.fragment,o)},m(o,s){v(t,o,s),a=!0},p(o,s){const r={};s&1&&(r.blok=o[0].story.content),t.$set(r)},i(o){a||(c(t.$$.fragment,o),a=!0)},o(o){u(t.$$.fragment,o),a=!1},d(o){b(t,o)}}}function j(i){let t,a,o,s,r,l;a=new H({props:{header:i[0].header,logo:i[0].logo}});let e=i[0].story&&w(i);return r=new M({props:{footer:i[0].footer,logo:i[0].logo}}),{c(){t=T("div"),$(a.$$.fragment),o=_(),e&&e.c(),s=_(),$(r.$$.fragment)},l(n){t=V(n,"DIV",{});var f=B(t);h(a.$$.fragment,f),o=p(f),e&&e.l(f),s=p(f),h(r.$$.fragment,f),f.forEach(m)},m(n,f){y(n,t,f),v(a,t,null),S(t,o),e&&e.m(t,null),S(t,s),v(r,t,null),l=!0},p(n,f){const d={};f&1&&(d.header=n[0].header),f&1&&(d.logo=n[0].logo),a.$set(d),n[0].story?e?(e.p(n,f),f&1&&c(e,1)):(e=w(n),e.c(),c(e,1),e.m(t,s)):e&&(z(),u(e,1,1,()=>{e=null}),q());const g={};f&1&&(g.footer=n[0].footer),f&1&&(g.logo=n[0].logo),r.$set(g)},i(n){l||(c(a.$$.fragment,n),c(e),c(r.$$.fragment,n),l=!0)},o(n){u(a.$$.fragment,n),u(e),u(r.$$.fragment,n),l=!1},d(n){n&&m(t),b(a),e&&e.d(),b(r)}}}function K(i){let t,a,o=i[0],s,r;document.title=t=i[0].story.name;let l=j(i);return{c(){a=_(),l.c(),s=k()},l(e){N("svelte-1qtzbim",document.head).forEach(m),a=p(e),l.l(e),s=k()},m(e,n){y(e,a,n),l.m(e,n),y(e,s,n),r=!0},p(e,[n]){(!r||n&1)&&t!==(t=e[0].story.name)&&(document.title=t),n&1&&C(o,o=e[0])?(z(),u(l,1,1,R),q(),l=j(e),l.c(),c(l,1),l.m(s.parentNode,s)):l.p(e,n)},i(e){r||(c(l),r=!0)},o(e){u(l),r=!1},d(e){e&&(m(a),m(s)),l.d(e)}}}function L(i,t,a){let{data:o}=t;return P(()=>{if(o.story){const s=["event.stream","event.guests","guest.year"];F(o.story.id,r=>a(0,o.story=r,o),{resolveRelations:s})}}),i.$$set=s=>{"data"in s&&a(0,o=s.data)},[o]}class Y extends D{constructor(t){super(),I(this,t,L,K,C,{data:0})}}export{Y as component,X as universal};
